# 圖片裁切器

一個使用 JavaScript 與 `<canvas>` 元件所製作的圖片前端裁切器。

## 需求

1. 使用 JavaScript 與 `<canvas>` 實作。
2. 可提供給 Vue 3, React 等先進工具使用。

## 主要功能

1. 讀取使用者圖片。
2. 在畫面中產生 `<canvas>` 畫布，畫布會依照使用者的圖片比例產生對應的尺寸。
3. 如果圖片尺寸大於 `<canvas>` 畫布尺寸，圖片在畫布中會依照畫布等比例縮放到合適尺寸。
4. 使用者可以在畫面上框選裁切的範圍，同時可提供旋轉按鈕，讓使用者旋轉圖片，每次旋轉皆為順時針 90 度。
5. 如果圖片經過縮放，裁切的位置必須要對應到真實圖片尺寸的相對位置，並將裁切區域輸出。
6. 框選確定後，輸出的資料格式 JSON 範例如下：
  ```
  {
    "originalImage": {
      "wdith": 800,
      "height": 640
    },
    "cropInfo": {
      "x": 10,
      "y": 10,
      "width": 300,
      "heigh": 300,
      "rotate": 0
    }
  }
  ```

## 新增功能

1. 使用者框選裁切區域後，裁切區域可用滑鼠拖曳，也可拉動邊界進行放大或縮小裁切框。
2. `<canvas>` 固定為 400px 的正方形。
3. 增加一個參數，可設定使用者拖曳出來的裁切框的比例。
4. 當有設定裁切框比利時，使用者拉動邊界進行放大或縮小時，會等比例縮放。
5. 當裁切框比例為 `null` 時，使用者拖曳的裁切區域可以是任意比例。
6. 當裁切框比例為 `null` 時，使用者拉動邊界進行放大或縮小時，也是任意比例。
7. 當使用者旋轉時，裁切框也需要跟著旋轉。
8. 裁切框的邊界不得超出圖片。
9. 需要支援滑鼠以及觸控裝置（例如手機）。
10. 裁切區域的框框內，增加半透明的底色。

## 後端處理

後端使用 PHP 8.4，在接收到前端 JSON 資料後，將其轉換為 ImageMagick 所使用的裁切指令。最終會將圖片裁切成所指定的尺寸。
